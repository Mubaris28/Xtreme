var is_mobile = !0, nav_mode = "mobile", screen_mode = "mobile", nav_open = !1, subnav_open = !1, mobile_env = !1; function smoothScrollToObject(e, t = !1) { scrollOffset = 0, t || (scrollOffset = $("#page_header").outerHeight()), scrollPosition = e.offset().top - scrollOffset - parseInt(e.css("margin-top")) - parseInt(e.css("border-top")), $("html,body").animate({ scrollTop: scrollPosition }, { duration: 350 }) } function checkHeaderNavPosition(e) { 200 < e ? $("#page_header").addClass("low_profile") : $("#page_header").removeClass("low_profile") } function resize() { screen_mode = $("#mobile_detector").is(":visible") ? (is_mobile || hideNav(), is_mobile = !0, "mobile") : (is_mobile && hideNav(), is_mobile = !1, "desktop"), nav_mode = $(window).width() < 1024 ? "mobile" : "desktop", checkHeaderNavPosition() } function error(e, t) { messageOrError(e, "error", t = null == t ? !0 : t) } function message(e, t) { messageOrError(e, "message", t = null == t ? !0 : t) } function messageOrError(e, t, s) { html = '<div class="site_' + t + '" style="display: none;"><span class="close">×</span><p>' + e + "</p></div>", $container = $(".messages_and_errors_container .site_" + t + "s"), ($messageOrError = $(html).appendTo($container)).slideDown(200), s && $messageOrError.delay(6e3).slideUp(200) } function scroll(e) { checkHeaderNavPosition(e), "function" == typeof updatePager && (clearTimeout(updatePagerTimeout), updatePagerTimeout = setTimeout(updatePager, 100)) } function showNav() { $("header .menu_button, nav.main_nav, header button.hamburger").addClass("active"), $("html, body").addClass("noscroll"), $(".main_nav_overlay").fadeIn(300), nav_open = !0 } function hideNav() { $("header .menu_button, nav.main_nav, header button.hamburger").removeClass("active"), $("html, body").removeClass("noscroll"), $(".main_nav_overlay").fadeOut(300), nav_open = !1 } function hideSubNav() { $(".main_nav > ul > li").removeClass("fade"), $(".main_nav > ul > li").find(".subnav").fadeOut(200), $(".main_nav > ul > li").removeClass("open"), subnav_open = !1 } function toggleNav() { (nav_open ? hideNav : showNav)() } function showModal(e) { $(".modals").find(".modal").not("[data-modal-id=" + e + "]").hide(), ($modal = $(".modals").find("[data-modal-id=" + e + "]")).show(), $modal.hasClass("has_close_button") && !$modal.find("button.close_button").length && $modal.prepend('<button class="close_button">×</button>'), $("html").addClass("noscroll"), $(".modals").stop().fadeIn(300) } function hideModal() { $("html").removeClass("noscroll"), $(".modals").stop().fadeOut(300) } function setCookie(e, t, s) { var a = new Date, s = (a.setTime(a.getTime() + 60 * s * 60 * 1e3), "expires=" + a.toUTCString()); document.cookie = e + "=" + t + ";" + s + ";path=/" } function characterCount(e) { var t = e.value.length, s = e.maxLength, e = document.querySelector('[data-for="' + e.id + '"]'); e.innerHTML = t + "/" + s, s < t ? (e.classList.remove("success"), e.classList.add("danger")) : (e.classList.add("success"), e.classList.remove("danger")) } function scrollDatesBarLeft(e) { let t = e.scrollLeft; e.querySelector(".timetable_dates_inner").scrollWidth; let s = 0, a = e.querySelectorAll("li[data-day='1']"); (a = (a = Array.prototype.slice.call(a)).reverse()).every(e => !(e.offsetLeft < t && (s = e.offsetLeft, 1))), s <= 0 && (s = 0, minned_out = !0), e.scroll({ left: s, top: 0, behavior: "smooth" }) } function scrollDatesBarRight(e) { let t = e.scrollLeft; var s = e.querySelector(".timetable_dates_inner").scrollWidth - e.offsetWidth; let a = 0; var i = e.querySelectorAll("li[data-day='1']"); (i = Array.prototype.slice.call(i)).every(e => !(e.offsetLeft > t && (a = e.offsetLeft, 1))), a >= s && (a = s), e.scroll({ left: a, top: 0, behavior: "smooth" }) } function scrollDatesBarForwards(e) { scrollDatesBarRight(e) } function scrollDatesBarBackwards(e) { scrollDatesBarLeft(e) } function scrollSelectedDateIntoView(a = !0) { var e = document.querySelectorAll(".timetable_dates"); let i = 0; (e = Array.prototype.slice.call(e)).forEach(e => { var t; e.querySelector(".timetable_dates_inner").scrollWidth; let s = e.querySelector("li.active"); s && (t = e.querySelectorAll("li[data-day='1']"), (t = Array.prototype.slice.call(t)).every(e => !(e.offsetLeft > s.offsetLeft || (i = e.offsetLeft, 0))), a ? e.scrollLeft = i : e.scroll({ left: i, top: 0, behavior: "smooth" })) }) } navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/iPad/i) ? mobile_env = "iOS" : navigator.userAgent.match(/android/i) && (mobile_env = "Android"), mobile_env && (document.documentElement.className = document.documentElement.className + " " + mobile_env), $(function () { $(window).resize(function () { resize() }), resize(); let t, s = !1; document.addEventListener("scroll", function (e) { t = window.scrollY, s || (window.requestAnimationFrame(function () { scroll(t), s = !1 }), s = !0) }), scroll(window.scrollY), $(".menu_button").click(function () { toggleNav() }), $(".main_nav_overlay").click(function () { hideNav() }), $('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function (e) { e.preventDefault; var t = $(this.hash); (t = t.length ? t : $("[name=" + this.hash.slice(1) + "],[id=" + this.hash.slice(1) + "]")).length && (e.preventDefault(), smoothScrollToObject(t)) }), $(".arrow_scroll_down").click(function () { smoothScrollToObject($target = $(this).parents(".content_sections").length && $(this).parents("section").next("section").length ? $(this).parents("section").next("section") : $(".content_sections section").first(), $(this)[0].hasAttribute("data-ignore_header")) }), $(".arrow_scroll_up").click(function () { smoothScrollToObject($target = $(this).parents(".content_sections").length && $(this).parents("section").prev("section").length ? $(this).parents("section").prev("section") : $(".content_sections section").last(), $(this)[0].hasAttribute("data-ignore_header")) }) }), $(function () { $(".main_nav > ul > li").each(function () { $(this).find(".subnav").length && ($(this).addClass("has_children"), $(this).hoverIntent({ over: function () { "desktop" == nav_mode && ($(this).removeClass("fade"), $(".main_nav > ul > li").not(this).addClass("fade")) }, out: function () { "desktop" == nav_mode && $(".main_nav > ul > li").removeClass("fade") }, timeout: 140 })) }), $(".main_nav li.has_children").click(function (e) { "mobile" == nav_mode && ($(this).hasClass("open") ? $(e.target).is("a") ? hideNav() : ($(this).find(".subnav").slideUp(300), $(this).removeClass("open")) : (e.preventDefault(), $(this).find(".subnav").slideDown(300), $(this).addClass("open"))) }), $(".main_nav a").click(function (e) { "mobile" == nav_mode && ($li = $(this).parent("li"), $(this).attr("href").startsWith("#")) && (!$li.hasClass("has_children") || $li.hasClass("has_children") && $li.hasClass("open")) && hideNav() }), $("details.accordion").each(function () { $(this).attr("open") || $(this).find(".details").hide(), $(this).find("summary").click(function (e) { var t = $(this).parents("details.accordion"), s = t.find(".details"); e.preventDefault(), void 0 !== t.attr("open") ? s.slideUp(200, function () { t.removeAttr("open") }) : (t.attr("open", !0), s.slideDown(200)) }) }), $(document).on("click", ".site_message .close, .site_error .close", function () { $(this).parents(".site_message, .site_error").slideUp(200) }), setTimeout(function () { $(".site_message.auto_hide, .site_error.auto_hide").slideUp(200) }, 6e3), $(".message_banner h4").click(function () { ($banner = $(this).parents(".message_banner")).toggleClass("open"), $banner.find(".message_banner_body").slideToggle(200) }), $(".message_banner_close").click(function () { $banner = $(this).parents(".message_banner"), cookie_name = $banner.attr("data-cookie"), cookie_expires = parseFloat($banner.attr("data-cookie_expires")), $banner.fadeOut(200), setCookie(cookie_name, !0, cookie_expires) }), $("#footer_newsletter_form").submit(function (e) { var t = !1, s = "", a = $(this).find("input[name=email]"), i = $(this).find("input[name=token]"); e.preventDefault(), $.ajax({ url: "/scripts/newsletter-subscribe", method: "POST", data: { email: a.val(), token: i.val(), method: "ajax", dataType: "json" }, success: function (e) { e.success && (t = !0), s = e.message } }).done(function () { t ? (message(s), a.val("")) : ("" != s && error(s), a.focus()) }) }), $(document).on("click", "[data-show-modal]", function (e) { showModal($(e.target).attr("data-show-modal")) }), $(document).on("click", ".modals_container, .modal button.close_button", function (e) { $(e.target).is(this) && hideModal() }), $(document).on("click", "section.whole_section_clickable", function (e) { console.log("test", e.target, $(e.target).is("a")), $(e.target).is("a") || $(e.target).is("a > button") ? $(e.target).is("a") && (window.location.href = $(e.target).attr("href")) : (e.preventDefault, $(this).find(".button_links > a").first().trigger("click")) }), $(".modeForm").each(function () { $(this).validate() }) }), $(document).ready(function () { $(".facilities_slick .slick").slick({ speed: 600, arrows: !0, infinite: !0, autoplay: !1, centerMode: !0, slidesToShow: 1 }), $(".cards_slick .slick").slick({ speed: 600, arrows: !0, infinite: !0, autoplay: !1, slidesToShow: 2, responsive: [{ breakpoint: 1024, settings: { slidesToShow: 2 } }, { breakpoint: 768, settings: { slidesToShow: 2.25 } }, { breakpoint: 576, settings: { slidesToShow: 1.75 } }] }); var e = 0; $(".locations_with_info_modal_slick .slick").each(function () { e++, $(this).addClass("slick-" + e).slick({ speed: 600, arrows: !0, infinite: !0, autoplay: !1, slidesToShow: 1 }), setTimeout(() => { $(".locations_with_info_modal_slick .slick").slick("refresh") }, 1e3) }), $(".content_sections section").each(function () { $(this).is(":nth-child(2)") && $(this).prev().hasClass("shape_yes") && ($(this).hasClass("white_background") ? $(this).prev().hasClass("yellow_background") ? $(this).prev().addClass("white_shape-invert") : $(this).prev().addClass("white_shape") : $(this).hasClass("yellow_background") && $(this).prev().addClass("yellow_shape")) }), $(".content_sections section").each(function () { $(this).is(":last-child") && ($(this).hasClass("white_background") ? $("footer").addClass("white_shape") : $(this).hasClass("yellow_background") && $("footer").addClass("yellow_shape")) }), $(".js-faq-btn").click(function (e) { e.preventDefault(); e = $(this); $(this).attr("data-id"); e.hasClass("is-active") ? (e.removeClass("is-active"), e.next().slideUp(), e.find(".js-faq-icon").removeClass("is-active")) : ($(".js-faq-btn").removeClass("is-active"), $(".js-faq-content").slideUp(), $(".js-faq-icon").removeClass("is-active"), e.addClass("is-active"), e.next().slideDown(), e.find(".js-faq-icon").addClass("is-active")) }) }), $(document).ready(function () { scrollSelectedDateIntoView() }), $(document).ready(function () { var e; $("#timetable_content") && -1 < window.location.href.indexOf("?date=") && (e = $("#timetable_content").offset().top, $("html, body").animate({ scrollTop: e }, 800)), $(".js-enquiry-form").length && -1 < window.location.href.indexOf("?form_result=success") && (e = $(".js-enquiry-form").offset().top, $("html, body").animate({ scrollTop: e }, 800)), $("section.membership").length && -1 < window.location.href.indexOf("?form_result=success") && (e = $(".js-membership-section").offset().top, $("html, body").animate({ scrollTop: e }, 800)) }), $(".js-membership-switch input").on("click", function () { ($(this).parent().hasClass("is-active") ? ($(this).parent().removeClass("is-active"), $(".js-membership-corporate").removeClass("is-active"), $(".js-membership-corporate-content").removeClass("is-active"), $(".js-membership-individual").addClass("is-active"), $(".js-membership-individual-content")) : ($(this).parent().addClass("is-active"), $(".js-membership-individual").removeClass("is-active"), $(".js-membership-individual-content").removeClass("is-active"), $(".js-membership-corporate").addClass("is-active"), $(".js-membership-corporate-content"))).addClass("is-active") }), $(document).ready(function () { document.addEventListener("click", function (e) { e = e.target; e.classList.contains("timetable_dates_forward") && scrollDatesBarForwards(e.closest(".timetable_dates_container").querySelector(".timetable_dates")), e.classList.contains("timetable_dates_back") && scrollDatesBarBackwards(e.closest(".timetable_dates_container").querySelector(".timetable_dates")) }), $(".js-card-btn").click(function (e) { e.preventDefault(), $(this).hasClass("is-active") ? ($(this).removeClass("is-active"), $(this).closest(".timetable_card_top").next().slideUp()) : ($(".js-card-btn").removeClass("is-active"), $(".js-card-content").slideUp(), $(this).addClass("is-active"), $(this).closest(".timetable_card_top").next().slideDown()) }), $(".js-time-filter").click(function (e) { e.preventDefault(); var e = $(this), i = e.attr("data-id"), o = $(".js-form-dropdown-location").val(), n = $(".js-form-dropdown-class").val(); $(".js-time-filter").removeClass("is-active"), $(".js-card").removeClass("is-active"), e.addClass("is-active"), $(".js-card").each(function () { var e = $(this), t = e.attr("data-filter-time-of-day"), s = e.attr("data-filter-location"), a = e.attr("data-filter-class"); t !== i || "" !== o && s !== o || "" !== n && a !== n || e.addClass("is-active") }) }), $(".js-form-dropdown-location").change(function () { var a = $(this).val(), i = ($(".js-card").removeClass("is-active"), $(".js-time-filter").removeClass("is-active"), $(".js-form-dropdown-class").val()); console.log(i), $(".js-card").each(function () { var e = $(this), t = e.attr("data-filter-location"), s = e.attr("data-filter-class"); t !== a && "" != a || "" !== i && s !== i || e.addClass("is-active") }) }), $(".js-form-dropdown-class").change(function () { var s = $(this).val(), a = ($(".js-card").removeClass("is-active"), $(".js-time-filter").removeClass("is-active"), $(".js-form-dropdown-location").val()); $(".js-card").each(function () { var e = $(this), t = e.attr("data-filter-location"); e.attr("data-filter-class") !== s && "" != s || "" !== a && t !== a || e.addClass("is-active") }) }) }), $(document).ready(function () { $(".content_sections section.block_image").each(function () { $(this).hasClass("image_left") && ($(this).find(".block_content").attr("data-aos", "fade-left"), $(this).find(".secondary_image_container").attr("data-aos", "fade-right"), $(this).find(".block_image").attr("data-aos", "fade-right"), $(this).find("value").attr("data-aos", "fade-right")) }), $(".content_sections section.text_with_image").each(function () { $(this).hasClass("image_left") && $(this).find(".block_content").attr("data-aos", "fade-left") }) }), $(document).ready(function () { $(".js-locations-item").click(function (e) { e.preventDefault(); e = $(this).attr("data-id"); $(".js-locations-modal").hasClass("is-active") ? ($(".js-locations-modal").removeClass("is-active"), $(".js-locations-modal-item").delay(600).fadeOut(0), $("html").removeClass("modal")) : ($(".js-locations-modal").addClass("is-active"), $("#" + e).fadeIn(0), $("html").addClass("modal")), $(".locations_with_info_modal_slick .slick").slick("refresh") }), $(".js-locations-close").click(function () { $(".js-locations-modal").removeClass("is-active"), $(".js-locations-modal-item").delay(600).fadeOut(0), $("html").removeClass("modal") }) }), $(document).ready(function () { $("select.goal").change(function () { "Others" == $(this).children("option:selected").val() ? $(".goal-instructions").show() : $(".goal-instructions").hide() }) }), $.fn.isInViewport = function () { var e = $(this).offset().top, t = e + $(this).outerHeight(), s = $(window).scrollTop(), a = s + $(window).height(); return s < t && e < a }, ScrollReveal().reveal(".reveal", { reset: !1, distance: "20px", duration: 600, scale: .95, viewFactor: .25, delay: 400 }), ScrollReveal().reveal(".reveal_fade", { reset: !1, distance: "0", duration: 900, scale: 1, viewFactor: .25, delay: 400 }), ScrollReveal().reveal(".reveal_slow", { reset: !1, distance: "0", duration: 1500, scale: 1.25, viewFactor: .25, delay: 400 }), AOS.init({ duration: 800 }), setTimeout(() => { AOS.refresh() }, 500);

